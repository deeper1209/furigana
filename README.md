# Furigana Generator – Render 배포 가이드

이 서비스는 Python(FastAPI) + SudachiPy(Full dict) 백엔드와 정적 프론트를 같은 Render Web Service에서 제공합니다.

## 1) 사전 준비
- Render 계정 생성
- Git 저장소에 본 프로젝트 업로드

## 2) Render Web Service 생성 (Docker 방식)
- New Web Service → 저장소 선택
- Type: Web Service
- Environment: Docker
- `render.yaml`와 `Dockerfile`을 인식하여 자동 빌드/시작
- Region/Instance는 sudachidict-full을 감당할 수 있는 플랜으로 선택

## 3) 환경
- `server.py`가 정적 파일들을 루트(`/`)에 마운트합니다. 따라서 동일 서비스에서 프론트와 API를 함께 제공합니다.
- `config.js`는 동일 오리진 API를 기본값으로 사용합니다.

## 4) 로컬 실행(선택)
```
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install --upgrade pip
pip install -r requirements.txt
uvicorn server:app --reload --host 0.0.0.0 --port 8000
```
브라우저에서 Render 배포 URL 또는 `http://localhost:8000` 접속.

메모: 빌드 메모리/컴파일 이슈가 있으면 `runtime.txt`로 파이썬 3.11을 지정했고, `PIP_ONLY_BINARY=:all:` 환경변수로 바이너리 휠만 설치되게 해두었습니다.

## 5) 사용 방법
1. 텍스트를 입력하고 변환을 누릅니다.
2. 서버가 SudachiPy로 일본어 런 단위로 오쿠리가나 정렬을 적용하여 ruby HTML을 반환합니다.
3. 괄호형 읽기가 입력에 있으면 자동으로 수확되어 우선 적용됩니다(사전 편집 불필요).

# 후리가나 생성기 (Furigana Generator)

한국인을 위한 일본어 한문 후리가나 생성 웹앱입니다.

## ✨ 주요 기능

- **일본어 한문 입력**: 일본어 텍스트를 입력하면 자동으로 후리가나를 생성합니다
- **카메라 텍스트 인식**: 카메라로 일본어 텍스트를 촬영하여 자동 인식 (OCR 기능)
- **후리가나 형식 선택**: 
  - 괄호 형식: 漢字(かんじ)
  - 루비 형식: HTML ruby 태그 사용
- **글자 크기 조절**: 
  - 메인 글자 크기: 10px ~ 40px 범위에서 조절 가능
  - 후리가나 글자 크기: 5px ~ 25px 범위에서 조절 가능
- **후리가나 색상 변경**: 검정색, 분홍색, 파란색 중 선택
- **결과 복사**: 변환된 결과를 클립보드에 복사
- **다양한 형식으로 내보내기**: PDF, MS Word, HTML 형식 지원
- **스크린샷 캡쳐**: 변환 결과를 이미지로 저장
- **입력 내용 삭제**: 한 번에 모든 입력 내용 삭제
- **벚꽃 애니메이션**: 아름다운 벚꽃이 떨어지는 배경 효과

## 🎯 사용법

1. **텍스트 입력**: 입력창에 일본어 한문을 입력합니다
2. **카메라 인식**: 카메라 아이콘을 클릭하여 텍스트를 촬영하고 인식할 수 있습니다
3. **후리가나 생성**: "후리가나 생성" 버튼을 클릭하거나 Ctrl+Enter를 누릅니다
4. **설정 변경**: 우상단의 설정 아이콘을 클릭하여 다음을 조절할 수 있습니다:
   - 메인 글자 크기 (10-40)
   - 후리가나 글자 크기 (5-25)
   - 후리가나 형식 (괄호/루비)
   - 후리가나 색상 (검정/분홍/파란색)
5. **결과 활용**:
   - 복사: 변환된 결과를 클립보드에 복사
   - 내보내기: PDF, Word, HTML 형식으로 다운로드
   - 캡쳐: 결과를 이미지로 저장
6. **삭제**: 휴지통 아이콘으로 입력 내용을 모두 삭제

## 📝 지원하는 한자 예시

- 漢字 (かんじ)
- 日本語 (にほんご)
- 勉強 (べんきょう)
- 学校 (がっこう)
- 先生 (せんせい)
- 学生 (がくせい)
- 友達 (ともだち)
- 家族 (かぞく)
- 会社 (かいしゃ)
- 仕事 (しごと)

그 외 200개 이상의 일반적인 일본어 한자 단어를 지원합니다.

## 🛠️ 기술 스택

- HTML5
- CSS3 (반응형 디자인, 그라데이션, 애니메이션)
- JavaScript (ES6+)
- Font Awesome (아이콘)
- html2canvas (스크린샷 기능)
- jsPDF (PDF 생성)
- WebRTC (카메라 접근)

## 🚀 실행 방법

1. 모든 파일을 같은 디렉토리에 저장
2. `index.html` 파일을 웹 브라우저에서 열기
3. 인터넷 연결이 필요합니다 (CDN 라이브러리 사용)
4. 카메라 기능 사용 시 HTTPS 환경에서만 작동합니다

### (선택) 고정밀 후리가나 서버 실행
- Python 3.10+ 필요
- 설치
```
pip install fastapi uvicorn[standard] sudachipy sudachidict-core pydantic
```
- 서버 실행
```
uvicorn server:app --host 0.0.0.0 --port 8000 --reload
```
- API 사용 (POST /api/furigana)
```
{
  "text": "日本語のテキスト",
  "skip_kana": true
}
```
- 응답 예시
```
{ "html": "<ruby><rb>日本語</rb><rt>にほんご</rt></ruby>..." }
```

## 📱 브라우저 지원

- Chrome (권장)
- Firefox
- Safari
- Edge

## 🔧 추가 기능

### 카메라 텍스트 인식
- 모바일 기기에서 카메라를 통해 일본어 텍스트를 촬영
- OCR(광학 문자 인식) 기능으로 텍스트 자동 추출
- 실제 구현 시 Tesseract.js 등 OCR 라이브러리 연동 필요

### 내보내기 기능
- **PDF**: 고품질 PDF 문서로 저장
- **MS Word**: Word 문서 형식으로 저장
- **HTML**: 웹 페이지 형식으로 저장

### 스크린샷 기능
- 변환 결과를 고해상도 이미지로 캡쳐
- PNG 형식으로 자동 다운로드

## 🎨 디자인 특징

- **벚꽃 애니메이션**: 일본의 봄을 연상시키는 아름다운 벚꽃 효과
- **글래스모피즘**: 반투명한 유리 효과로 모던한 디자인
- **반응형 디자인**: 모든 기기에서 최적화된 사용자 경험
- **부드러운 애니메이션**: 모든 상호작용에 자연스러운 전환 효과

## 📄 라이선스

MIT License

## 👨‍💻 개발자

**SeoungHwan**  
Email: coke1209@naver.com

## 🤝 기여

버그 리포트나 기능 제안은 언제든 환영합니다!

---

© 2025 일본어 후리가나 생성기
